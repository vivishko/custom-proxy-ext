# Proxy Manager Extension

Лёгкое расширение для гибкого управления прокси. Позволяет включать глобальный прокси, задавать поведение для отдельных сайтов и хранить собственный список прокси с поддержкой авторизации. Всплывающее окно показывает, какой режим применяется к текущей странице.

---

## Возможности

### Глобальный режим прокси

Включение одного прокси для всего трафика. Поддерживаются HTTP, HTTPS, SOCKS4, SOCKS5.

### Правила для сайтов

Назначайте отдельные настройки для доменов:

- **NO_PROXY** — всегда прямое соединение
- **RANDOM_PROXY** — детерминированный выбор прокси на основе домена
- **PROXY_BY_RULE** — фиксированный прокси по имени
- **DIRECT (Temporary)** — временное отключение прокси для сайта

### Режим «прямое подключение для страницы»

Позволяет временно отключить прокси для домена активной вкладки.

### Управление списком прокси

Добавление собственных прокси (хост, порт, протокол, страна, логин/пароль), редактирование и удаление.

### Импорт / Экспорт

Резервное копирование и восстановление списка прокси и правил сайтов в формате JSON.

### Отладочный лог

Включение подробного логирования логики проксирования в фоновом процессе.

---

## Технический стек

- Manifest V3
- JavaScript ES Modules
- Chrome Proxy API
- chrome.storage.sync
- Генерация PAC-скриптов для сложных правил
- Фоновый service worker для управления маршрутизацией
- Интерфейс popup на HTML/CSS/JS

---

## Установка

1. Скачайте или клонируйте проект.
2. Откройте **chrome://extensions/**.
3. Включите **Режим разработчика**.
4. Нажмите **Загрузить распакованное** и выберите папку расширения.

---

## Краткое руководство

1. **Добавьте прокси** во вкладке _Proxies_.
2. **Включите глобальный режим** и выберите нужный прокси.
3. **Создайте правила для сайтов** во вкладке _Site Rules_ или через кнопку «Add rule for this site».
4. **Используйте временный DIRECT** для обхода прокси на текущем домене.
5. **Включайте логирование** через небольшой переключатель в шапке popup-окна.

---

## Логика выбора прокси

Приоритет работы следующий:

1. Временное прямое подключение
2. Самое конкретное правило для сайта
3. Глобальный прокси
4. Прямое соединение

Сложные правила автоматически активируют PAC-скрипт.

---
